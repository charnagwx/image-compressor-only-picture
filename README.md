## 项目简介：图片压缩小网站

这是一个纯前端（不用安装服务器）的图片压缩小网站。你只需要：

1. 用浏览器打开 `index.html`
2. 选择一张图片上传
3. 在页面中预览原图和压缩后的效果
4. 点击按钮下载压缩后的图片

非常适合本地自己用，也可以部署到静态网站空间（例如 GitHub Pages、Vercel 等）。

---

## 功能设计

- **图片上传**
  - 支持拖拽上传和点击选择文件
  - 限制上传文件为常见图片格式（JPG、PNG、WebP 等）
  - 限制单张图片的最大体积（例如 20MB，可在代码中调节）

- **参数设置**
  - **压缩质量**：0–100 的滑块（内部会转成 0–1）
  - **输出格式**：保持原格式，或强制导出为 JPG/PNG/WebP（可在代码中配置）

- **预览与信息展示**
  - 显示原图预览和压缩后预览
  - 显示原图和压缩后文件大小（KB/MB）
  - 显示压缩比例（例如 “压缩了 70%”）

- **下载功能**
  - 一键下载压缩后的图片（文件名自动加上 `-compressed` 后缀）

---

## 技术实现说明（给开发看的）

> 如果你是非技术用户，这一节可以略过，只要会双击 `index.html` 打开网页即可。

- **项目类型**：纯静态网页（`index.html + style.css + app.js`）
- **框架**：不使用复杂框架（React/Vue 等），只用原生 HTML/CSS/JavaScript，方便理解和修改
- **压缩实现思路**：
  - 使用浏览器内置的 `FileReader` 读取本地图片
  - 使用 `HTMLImageElement` 加载图片
  - 使用 `canvas` 重新绘制图片，并按给定质量导出为压缩后的 `Blob`
  - 通过 `URL.createObjectURL` 生成下载链接
- **优点**：
  - 所有操作都在浏览器本地完成，不会把你的图片上传到服务器，更安全
  - 不需要后端，不依赖任何第三方服务

---

## 文件结构

- `README.md`：说明文档（你现在正在看的）
- `index.html`：网页入口文件
- `style.css`：页面样式（布局、颜色、按钮样式等）
- `app.js`：图片压缩的主要逻辑代码

后续如果有需要，可以增加：

- `assets/`：存放图标、logo 等静态资源
- `docs/`：存放更详细的说明文档或截图

---

## 使用方法（给不会写代码的用户）

1. **打开网页**
   - 在电脑上找到本项目的文件夹
   - 双击 `index.html`，用浏览器打开（建议用 Chrome、Edge、Firefox 等现代浏览器）

2. **上传图片**
   - 你可以拖拽图片到页面中的上传区域
   - 或者点击上传区域，选择一张图片

3. **设置压缩参数**
   - 调整“压缩质量”滑块（数值越低，文件更小，但画质会下降）
   - 可以多次尝试不同质量，直到你觉得画质和体积都合适

4. **预览结果**
   - 网页会显示原图和压缩后图片
   - 同时会看到：原图大小、压缩后大小、压缩比例

5. **下载压缩后的图片**
   - 点击“下载压缩图片”按钮
   - 浏览器会自动下载一张新的图片文件（文件名后面会带 `-compressed`）

---

## 参数与行为说明（开发相关）

### 压缩质量

- 页面中会提供一个滑块，例如：
  - 显示范围：0–100
  - 默认值：80
- 在代码中会转换为 canvas 导出的质量参数：
  - `quality = sliderValue / 100`
  - 传给 `canvas.toBlob(callback, mimeType, quality)`

### 支持的图片格式

- 默认允许上传：
  - `image/jpeg`
  - `image/png`
  - `image/webp`
- 如果需要支持更多格式（例如 HEIC），需要引入额外的解码库，本项目暂不包含。

### 文件大小限制

- 会在前端检查：
  - 单张图片最大体积，例如：20MB
- 超出限制时：
  - 页面会给出醒目的错误提示文字

---

## 开发与修改指南

### 运行方式

- 不需要安装任何依赖，不需要 Node.js 或后端环境
- 直接用浏览器打开 `index.html` 即可测试
- 如果你是开发者，推荐用一个简易静态服务器（例如 VSCode 的 Live Server 插件）可以避免某些本地路径安全限制问题

### 修改样式

- 所有页面样式都在 `style.css` 中：
  - 可以修改颜色、字体、边距、按钮样式等
  - 使用了现代布局（`flex` 等）来保持页面居中和自适应

### 修改逻辑

- 主要逻辑都在 `app.js`：
  - 上传与拖拽事件监听
  - 文件类型与大小校验
  - 图片读取与 canvas 压缩
  - 大小信息和压缩比例的计算
  - 下载链接的生成

---

## 后续可扩展功能（规划）

未来如果你有需要，可以基于当前项目继续扩展：

- **批量压缩**：一次选择多张图片，统一压缩并打包下载（ZIP）
- **尺寸调整**：不仅压缩质量，还可以按比例缩小宽高（例如最长边不超过 1920 像素）
- **历史记录**：显示最近压缩的几张图片及参数
- **主题切换**：支持明亮/暗色模式
- **多语言**：支持中文、英文等语言切换

---

## 本次迭代说明

当前版本目标：

- 完成单张图片的上传、预览、压缩与下载
- 保证操作简单、界面清晰，适合非技术用户使用

后续每次对项目的改动（例如增加批量压缩、增加多语言等），我都会在本 `README.md` 中补充说明，方便你了解项目现状和使用方法。


